{% extends "base.html" %}

{% block title %}My Designs - Purposefully Made KC{% endblock %}

{% block content %}
<div class="account-page">
    <div class="container">
        <div class="account-layout">
            <aside class="account-sidebar">
                <h2>My Account</h2>
                <nav class="account-nav">
                    <a href="{{ url_for('account.orders') }}" class="account-nav-link">Orders</a>
                    <a href="{{ url_for('account.my_designs') }}" class="account-nav-link active">My Designs</a>
                    <a href="{{ url_for('custom_request.my_requests') }}" class="account-nav-link">My Requests</a>
                    <a href="{{ url_for('account.addresses') }}" class="account-nav-link">Addresses</a>
                    <a href="{{ url_for('account.profile') }}" class="account-nav-link">Profile</a>
                    <a href="{{ url_for('auth.logout') }}" class="account-nav-link">Logout</a>
                </nav>
            </aside>
            
            <div class="account-content">
                <h1>My Designs</h1>
                <p class="page-sub">Designs we've created for you. Use them on any style, color, or shirt!</p>
                
                <div class="designs-actions">
                    <a href="{{ url_for('custom_request.submit') }}" class="btn btn-outline btn-sm">Have Us Recreate Something</a>
                    <a href="{{ url_for('shop.index') }}" class="btn btn-primary btn-sm">Shop Now</a>
                </div>
                
                {% if designs %}
                <div class="designs-grid">
                    {% for d in designs %}
                    <div class="design-card">
                        <a href="{{ url_for('shop.index', design_id=d.id) }}" class="design-card-link">
                            <div class="design-card-preview">
                                <img src="{{ url_for('static', filename=d.file_path) }}" alt="{{ d.title or d.original_filename }}">
                            </div>
                            <p class="design-card-title">{{ d.title or d.original_filename or 'Design' }}</p>
                        </a>
                        <a href="{{ url_for('shop.index', design_id=d.id) }}" class="btn btn-primary btn-sm">Order This Design</a>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-designs">
                    <p>No designs yet. Have an image you want recreated?</p>
                    <a href="{{ url_for('custom_request.submit') }}" class="btn btn-primary">Submit a Request</a>
                    <p class="empty-hint">We'll recreate it and add it here. Then you can order any style, color, or shirt!</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
.account-layout { display: grid; grid-template-columns: 220px 1fr; gap: 2rem; }
@media (max-width: 768px) { .account-layout { grid-template-columns: 1fr; } }
.account-sidebar { background: #fff; padding: 1.5rem; border-radius: var(--border-radius); height: fit-content; box-shadow: var(--box-shadow); }
.account-nav { display: flex; flex-direction: column; gap: 0.25rem; }
.account-nav-link { padding: 0.5rem 0; color: var(--text-primary); }
.account-nav-link.active { font-weight: 600; color: var(--accent-color); }
.page-sub { color: var(--text-secondary); margin-bottom: 1rem; }
.designs-actions { display: flex; gap: 1rem; margin-bottom: 2rem; }
.designs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 1.5rem; }
.design-card { background: #fff; border-radius: var(--border-radius); overflow: hidden; border: 1px solid var(--border-color); padding: 1rem; }
.design-card-link { text-decoration: none; color: inherit; display: block; }
.design-card-preview { aspect-ratio: 1; background: var(--ivory-silk); border-radius: 8px; overflow: hidden; margin-bottom: 0.75rem; }
.design-card-preview img { width: 100%; height: 100%; object-fit: contain; }
.design-card-title { font-size: 0.9rem; margin-bottom: 0.75rem; font-weight: 500; }
.empty-designs { text-align: center; padding: 3rem; background: var(--ivory-silk); border-radius: var(--border-radius); }
.empty-hint { margin-top: 1rem; font-size: 0.95rem; color: var(--text-secondary); }
</style>
{% endblock %}
